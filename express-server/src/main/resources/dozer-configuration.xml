<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mappings PUBLIC "-//DOZER//DTD MAPPINGS//EN"
   "http://dozer.sourceforge.net/dtd/dozerbeanmapping.dtd">
<mappings>
   <configuration>
      <relationship-type>non-cumulative</relationship-type>
   </configuration>
   <mapping map-id="User.deep">
      <class-a>com.express.domain.User</class-a>
      <class-b>com.express.service.dto.UserDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field>
         <a>accessRequests</a>
         <b>accessRequests</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>

   <mapping map-id="User.shallow">
      <class-a>com.express.domain.User</class-a>
      <class-b>com.express.service.dto.UserDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field-exclude>
         <a>accessRequests</a>
         <b>accessRequests</b>
      </field-exclude>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>

   <mapping map-id="Project.deep">
      <class-a>com.express.domain.Project</class-a>
      <class-b>com.express.service.dto.ProjectDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field map-id="Iteration.deep">
         <a>iterations</a>
         <b>iterations</b>
      </field>
      <field map-id="BacklogItem.deep">
         <a>productBacklog</a>
         <b>productBacklog</b>
      </field>
      <field>
         <a>accessRequests</a>
         <b>accessRequests</b>
      </field>
      <field>
         <a>themes</a>
         <b>themes</b>
      </field>
      <field map-id="ProjectWorker.deep" remove-orphans="true">
         <a>projectWorkers</a>
         <b>projectWorkers</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>
   
   <mapping map-id="Project.shallow">
      <class-a>com.express.domain.Project</class-a>
      <class-b>com.express.service.dto.ProjectDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field-exclude>
         <a>iterations</a>
         <b>iterations</b>
      </field-exclude>
      <field-exclude>
         <a>productBacklog</a>
         <b>productBacklog</b>
      </field-exclude>
      <field-exclude>
         <a>projectWorkers</a>
         <b>projectWorkers</b>
      </field-exclude>
      <field-exclude>
         <a>themes</a>
         <b>themes</b>
      </field-exclude>
      <field-exclude>
         <a>accessRequests</a>
         <b>accessrequests</b>
      </field-exclude>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>

   <mapping map-id="ProjectWorker.deep">
      <class-a>com.express.domain.ProjectWorker</class-a>
      <class-b>com.express.service.dto.ProjectWorkerDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field map-id="Project.shallow">
         <a>project</a>
         <b>project</b>
      </field>
      <field map-id="User.shallow">
         <a>worker</a>
         <b>worker</b>
      </field>
      <field map-id="Permissions.deep">
         <a>permissions</a>
         <b>permissions</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>

   <mapping map-id="ProjectWorker.shallow">
      <class-a>com.express.domain.ProjectWorker</class-a>
      <class-b>com.express.service.dto.ProjectWorkerDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field-exclude>
         <a>project</a>
         <b>project</b>
      </field-exclude>
      <field-exclude>
         <a>worker</a>
         <b>worker</b>
      </field-exclude>
      <field map-id="Permissions.deep">
         <a>permissions</a>
         <b>permissions</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>

   <mapping map-id="Permissions.deep">
      <class-a>com.express.domain.Permissions</class-a>
      <class-b>com.express.service.dto.PermissionsDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>
   
   <mapping map-id="Iteration.deep">
      <class-a>com.express.domain.Iteration</class-a>
      <class-b>com.express.service.dto.IterationDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field map-id="Project.shallow">
         <a>project</a>
         <b>project</b>
      </field>
      <field map-id="BacklogItem.deep">
         <a>backlog</a>
         <b>backlog</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>
   
   <mapping map-id="Iteration.shallow">
      <class-a>com.express.domain.Iteration</class-a>
      <class-b>com.express.service.dto.IterationDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field map-id="Project.shallow">
         <a>project</a>
         <b>project</b>
      </field>
      <field-exclude>
         <a>backlog</a>
         <b>backlog</b>
      </field-exclude>
      <field-exclude>
         <a>burndown</a>
         <b>burndown</b>
      </field-exclude>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>
   
   <mapping map-id="BacklogItem.deep">
      <class-a>com.express.domain.BacklogItem</class-a>
      <class-b>com.express.service.dto.BacklogItemDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field map-id="Project.shallow">
         <a>project</a>
         <b>project</b>
      </field>
      <field map-id="Iteration.shallow">
         <a>iteration</a>
         <b>iteration</b>
      </field>
      <field map-id="BacklogItem.shallow">
         <a>parent</a>
         <b>parent</b>
      </field>
      <field map-id="BacklogItem.deep">
         <a>tasks</a>
         <b>tasks</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
      <field remove-orphans="true">
         <a>themes</a>
         <b>themes</b>
      </field>
      <field remove-orphans="true">
         <a>acceptanceCriteria</a>
         <b>acceptanceCriteria</b>
      </field>
      <field custom-converter="com.express.service.mapping.StatusConverter">
         <a>status</a>
         <b>status</b>
      </field>
   </mapping>
   
   <mapping map-id="BacklogItem.shallow">
      <class-a>com.express.domain.BacklogItem</class-a>
      <class-b>com.express.service.dto.BacklogItemDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field-exclude>
         <a>project</a>
         <b>project</b>
      </field-exclude>
      <field-exclude>
         <a>iteration</a>
         <b>iteration</b>
      </field-exclude>
      <field-exclude>
         <a>parent</a>
         <b>parent</b>
      </field-exclude>
      <field-exclude>
         <a>tasks</a>
         <b>tasks</b>
      </field-exclude>
      <field-exclude>
         <a>assignedTo</a>
         <b>assignedTo</b>
      </field-exclude>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
      <field custom-converter="com.express.service.mapping.StatusConverter">
         <a>status</a>
         <b>status</b>
      </field>
      <!--<field-exclude>-->
         <!--<a>themes</a>-->
         <!--<b>themes</b>-->
      <!--</field-exclude>-->
      <field-exclude>
         <a>acceptanceCriteria</a>
         <b>acceptanceCriteria</b>
      </field-exclude>
   </mapping>

   <mapping>
      <class-a>com.express.domain.Theme</class-a>
      <class-b>com.express.service.dto.ThemeDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field map-id="Project.shallow">
         <a>project</a>
         <b>project</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>

   <mapping>
      <class-a>com.express.domain.AccessRequest</class-a>
      <class-b>com.express.service.dto.AccessRequestDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
      <field map-id="Project.shallow">
         <a>project</a>
         <b>project</b>
      </field>
      <field map-id="User.shallow">
         <a>requestor</a>
         <b>requestor</b>
      </field>
   </mapping>

   <mapping>
      <class-a>com.express.domain.AcceptanceCriteria</class-a>
      <class-b>com.express.service.dto.AcceptanceCriteriaDto</class-b>
      <field custom-converter="com.express.service.mapping.IdConverter">
         <a>id</a>
         <b>id</b>
      </field>
      <field map-id="BacklogItem.shallow">
         <a>backlogItem</a>
         <b>backlogItem</b>
      </field>
      <field >
         <a is-accessible="true">version</a>
         <b>version</b>
      </field>
   </mapping>

</mappings>